<?xml version="1.0" encoding="utf-8" ?>
<Api2>
  <Transform Target="ArgumentEnum">
    <ArgumentEnumMatch>
      <Value>episode</Value>
      <Value>show</Value>
      <Value>member</Value>
      <Value>movie</Value>
    </ArgumentEnumMatch>
    <SetName>EntityType</SetName>
  </Transform>

  <Transform Target="ArgumentEnum">
    <ArgumentEnumMatch>
      <Value>all</Value>
      <Value>vo</Value>
      <Value>vf</Value>
      <Value>vovf</Value>
    </ArgumentEnumMatch>
    <SetName>SubtitleFilter</SetName>
  </Transform>

  <Transform Target="ArgumentEnum">
    <ArgumentEnumMatch>
      <Value>open</Value>
      <Value>requests</Value>
      <Value>friends</Value>
      <Value>nobody</Value>
    </ArgumentEnumMatch>
    <SetName>ProfileConfidentiality</SetName>
  </Transform>

  <Transform Target="ArgumentEnum">
    <ArgumentEnumMatch>
      <Value>title</Value>
      <Value>popularity</Value>
      <Value IsPresent="False">alphabetical</Value>
    </ArgumentEnumMatch>
    <SetName>MovieSortOrder</SetName>
  </Transform>

  <Transform Target="ArgumentEnum">
    <ArgumentEnumMatch>
      <Value>title</Value>
      <Value>popularity</Value>
      <Value>alphabetical</Value>
    </ArgumentEnumMatch>
    <SetName>ShowSortOrder</SetName>
  </Transform>

  <Transform Target="ResponseFormat">
    <ResponseFormatMatch>
      <UrlPath>comments/comments</UrlPath>
    </ResponseFormatMatch>
    <SetClassName>Comment</SetClassName>
    <Remove />
  </Transform>

  <Transform Target="ResponseFormat">
    <ResponseFormatMatch>
      <UrlPath>comments/comment</UrlPath>
    </ResponseFormatMatch>
    <SetClassName>Comment</SetClassName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>members/oauth</UrlPath>
    </Match>
    <Remove />
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>members/oauth</UrlPath>
    </Match>
    <Remove />
    <SetReponseFormat>key: string</SetReponseFormat>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>shows/favorite</UrlPath>
    </Match>
    <SetMethodName>SetShowAsFavorite</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>shows/favorites</UrlPath>
    </Match>
    <SetMethodName>GetFavoriteShows</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>comments/comment</UrlPath>
    </Match>
    <SetMethodName>Post</SetMethodName>
    <Transform Target="Argument">
      <Match Name="text" />
      <SetArgumentType>PostQueryString</SetArgumentType>
    </Transform>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>DELETE</Method>
      <UrlPath>comments/comment</UrlPath>
    </Match>
    <SetMethodName>Delete</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>comments/comments</UrlPath>
    </Match>
    <SetMethodName>Get</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>comments/replies</UrlPath>
    </Match>
    <SetMethodName>Reply</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>comments/subscription</UrlPath>
    </Match>
    <SetMethodName>Subscribe</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>DELETE</Method>
      <UrlPath>comments/subscription</UrlPath>
    </Match>
    <SetMethodName>Unsubscribe</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>episodes/display</UrlPath>
    </Match>
    <SetMethodName>GetById</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>episodes/downloaded</UrlPath>
    </Match>
    <SetMethodName>MarkDownloaded</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>DELETE</Method>
      <UrlPath>episodes/downloaded</UrlPath>
    </Match>
    <SetMethodName>UnmarkDownloaded</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>episodes/watched</UrlPath>
    </Match>
    <SetMethodName>MarkWatched</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>DELETE</Method>
      <UrlPath>episodes/watched</UrlPath>
    </Match>
    <SetMethodName>UnmarkWatched</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>episodes/list</UrlPath>
    </Match>
    <SetMethodName>List</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>episodes/note</UrlPath>
    </Match>
    <SetMethodName>SetMark</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>DELETE</Method>
      <UrlPath>episodes/note</UrlPath>
    </Match>
    <SetMethodName>DeleteMark</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>episodes/search</UrlPath>
    </Match>
    <SetMethodName>Search</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>friends/block</UrlPath>
    </Match>
    <SetMethodName>Block</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>DELETE</Method>
      <UrlPath>friends/block</UrlPath>
    </Match>
    <SetMethodName>Unblock</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>friends/friend</UrlPath>
    </Match>
    <SetMethodName>Friend</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>DELETE</Method>
      <UrlPath>friends/friend</UrlPath>
    </Match>
    <SetMethodName>Unfriend</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>friends/list</UrlPath>
    </Match>
    <SetMethodName>GetFriends</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>friends/requests</UrlPath>
    </Match>
    <SetMethodName>GetFriendRequests</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>members/access_token</UrlPath>
    </Match>
    <SetMethodName>GetOAuth2AccessToken</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>members/auth</UrlPath>
    </Match>
    <SetMethodName>ClassicAuthenticate</SetMethodName>
<!--
    <ReturnRawResult />
  {
    "user":
    {
      "id":26940,"login":"Dev002","in_account":false
    },
    "token": "xxxxxxxxxxxx",
    "hash": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
    "errors": []
  }
-->
    
    <Transform Target="Argument">
      <Match Name="password" />
      <MD5 />
    </Transform>
    <ResponseFormat Inherit="BaseResponse" Name="AuthenticationResult" UseBaseResponse="false">
      <Property Name="User" ContractName="user">
        <Property Name="Id" ContractName="id" BlitableType="int" />
        <Property Name="Login" ContractName="login" BlitableType="string" />
        <Property Name="InAccount" ContractName="in_account" BlitableType="bool" />
      </Property>
      <Property Name="Hash" ContractName="hash" BlitableType="string" />
      <Property Name="Token" ContractName="token" BlitableType="string" />
    </ResponseFormat>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>members/avatar</UrlPath>
    </Match>
    <SetMethodName>SetProfilePicture</SetMethodName>
    <Transform Target="Argument">
      <Match Name="avatar" />
      <SetArgumentType>PostQueryString</SetArgumentType>
      <SetType>byte[]</SetType>
    </Transform>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>DELETE</Method>
      <UrlPath>members/avatar</UrlPath>
    </Match>
    <SetMethodName>DeleteProfilePicture</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>members/badges</UrlPath>
    </Match>
    <SetMethodName>GetBadges</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>members/destroy</UrlPath>
    </Match>
    <SetMethodName>DestroyToken</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>members/infos</UrlPath>
    </Match>
    <SetMethodName>GetProfile</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>GET</Method>
      <UrlPath>members/is_active</UrlPath>
    </Match>
    <SetMethodName>VerifyToken</SetMethodName>
  </Transform>

  <Transform Target="Method">
    <Match>
      <Method>POST</Method>
      <UrlPath>members/lost</UrlPath>
    </Match>
    <SetMethodName>ResetPassword</SetMethodName>
  </Transform>
</Api2>
